<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Informasi mengenai tsunami di indonesia</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">

  <!-- Favicons -->
  <link href="img/logo.png" rel="icon">
  <link href="img/logo.png" rel="apple-touch-icon">

  <!-- Libraries CSS Files -->
  <link href="lib/flat-ui/css/flat-ui.css" rel="stylesheet">
  <!-- Bootstrap CSS File -->
  <link href="css/bootstrap.min.css" rel="stylesheet">


  <!-- Main Stylesheet File -->
  <link href="css/style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

  <script src="js/leaflet.ajax.js" type="text/javascript"></script>
  <script src="js/Leaflet.Coordinates-0.1.5.min.js" type="text/javascript"></script>
  <script src="js/leaflet.zoomhome.js" type="text/javascript"></script>
  <!--geolocation-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol/dist/L.Control.Locate.min.js" charset="utf-8">
  </script>
  <link rel="stylesheet" href="css/leaflet.zoomhome.css" />
  <link rel="stylesheet" href="css/Leaflet.Coordinates-0.1.5.css" />
  <!-- =======================================================
    Template Name: Good
    Template URL: https://templatemag.com/good-bootstrap-corporate-template/
    Author: TemplateMag.com
    License: https://templatemag.com/license/
  ======================================================= -->
  <style>
    /*Legend specific*/
    .legend {
      z-index: 600!important;
      margin-top: 85px !important;
      padding: 6px 8px;
      font: 14px Arial, Helvetica, sans-serif;
      background: white;
      background: rgba(255, 255, 255, 0.8);
      /*box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);*/
      /*border-radius: 5px;*/
      line-height: 24px;
      color: #555;
    }

    .legend h4 {
      text-align: center;
      font-size: 16px;
      margin: 2px 12px 8px;
      color: #777;
    }

    .legend span {
      position: relative;
      bottom: 3px;
    }

    .legend i {
      width: 18px;
      height: 18px;
      float: left;
      margin: 0 8px 0 0;
      opacity: 0.7;
    }

    .legend i.icon {
      background-size: 18px;
      /* background-color: rgba(255, 255, 255, 1); */
    }
  </style>
</head>

<body>

  <!-- Fixed navbar -->
  <div class="navbar navbar-default navbar-fixed-top">
    <div class="container-bs">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a style="float: left;" href="#">
          <img style="margin: 10px;" src="img/logo.png " alt="" width="50">
        </a>
        <h3 class="navbar-kiri" href="">Informasi Tsunami</h3>
      </div>

      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a href="./">Home</a>
          </li>
          <li><a href="profile.html">Profile</a></li>
          <li ><a href="mitigasi.html">SiMiTsu</a></li>
          <li class="active"><a href="peta.html">Peta</a></li>
          
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Data <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="statistik.html">Statistik</a></li>
              <li><a href="refrensi.html">Refrensi</a></li>
            </ul>
          </li>

        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </div>

  <div id="mapid" style="position: absolute; top: 0; bottom: 0; width: 100%;"></div>
  <!-- Portfolio Section -->
  <!-- /Footer -->


  <script>
    //  var mymap = L.map('mapid').setView( [-0.99, 118.93], 4);
    // menampilkan peta
    var mymap = L.map('mapid', {
      zoomControl: false,
      center: [0.99, 118.93],
      zoom: 5,

    });

    L.tileLayer(
      'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
          'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1,

      }).addTo(mymap);

    L.control.scale().addTo(mymap);

    var tsunamiIcon = L.icon({
      iconUrl: 'img/icons/Tsunami.png',
      iconSize: [20, 20], // size of the icon
    });



    // L.marker([51.5, -0.09], {icon: tsunamiIcon}).addTo(mymap)
    // 	.bindPopup("<b>Hello world!</b><br />I am a popup.")

    //menampilkan popup
    function popUp(f, l) {
      var out = [];
      if (f.properties) {
        for (key in f.properties) {
          out.push(key + ": " + f.properties[key]);
        }
        l.bindPopup(out.join("<br />"));
      }
    }


    var database = new L.GeoJSON.AJAX(["geojson/databasetsunami.geojson"], {
      onEachFeature: popUp,
      pointToLayer: function (feature, latlng) {
        return L.marker(latlng, {
          icon: tsunamiIcon
        })
      }
    }).addTo(mymap);

    var popup = L.popup();


    var zoomHome = new L.Control.zoomHome({
      position: "bottomleft"
    });
    zoomHome.addTo(mymap);

    L.control.locate({
      position: "bottomleft"
    }).addTo(mymap);


    L.control.coordinates({
      position: "bottomright",
      decimals: 2,
      decimalSeperator: ",",
      labelTemplateLat: "Latitude: {y}",
      labelTemplateLng: "Longitude: {x}"
    }).addTo(mymap);


    var legend = L.control({
      position: "topright"
    });

    legend.onAdd = function (map) {
      var div = L.DomUtil.create("div", "legend");
      div.innerHTML += "<h4>Legenda</h4>";
      div.innerHTML += '<i style="background: #477AC2"></i><span>Air</span><br>';
      div.innerHTML += '<i style="background: #448D40"></i><span>Hutan</span><br>';
      div.innerHTML += '<i style="background: #E6E696"></i><span>Daratan</span><br>';
      // div.innerHTML += '<i style="background: #E8E6E0"></i><span>Residential</span><br>';
      // div.innerHTML += '<i style="background: #FFFFFF"></i><span>Ice</span><br>';
      div.innerHTML +=
        '<i class="icon" style="background-image: url(./img/icons/Tsunami.png);background-repeat: no-repeat;"></i><span>Area Tsunami</span><br>';



      return div;
    };

    legend.addTo(mymap);
  </script>


  <!-- JavaScript Libraries -->
  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="lib/php-mail-form/validate.js"></script>

  <!-- Template Main Javascript File -->
  <script src="js/main.js"></script>

  <!--My Script-->

</body>

</html>